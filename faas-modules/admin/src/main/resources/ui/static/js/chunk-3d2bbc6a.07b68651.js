(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d2bbc6a"],{"5c54":function(e,t,r){},7803:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:e.registerForm,rules:e.registerRules}},[r("h3",{staticClass:"title"},[e._v("乐盒后台管理系统 - 用户注册")]),r("el-form-item",{attrs:{prop:"applyModule"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择应用模块",clearable:""},model:{value:e.registerForm.applyModule,callback:function(t){e.$set(e.registerForm,"applyModule",t)},expression:"registerForm.applyModule"}},e._l(e.applys,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),r("el-form-item",{attrs:{prop:"userName"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"用户名"},model:{value:e.registerForm.userName,callback:function(t){e.$set(e.registerForm,"userName",t)},expression:"registerForm.userName"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"loginAccount"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"登陆账号"},model:{value:e.registerForm.loginAccount,callback:function(t){e.$set(e.registerForm,"loginAccount",t)},expression:"registerForm.loginAccount"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"phonenumber"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"手机号"},model:{value:e.registerForm.phonenumber,callback:function(t){e.$set(e.registerForm,"phonenumber",t)},expression:"registerForm.phonenumber"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"phone"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"code"}},[r("el-input",{staticStyle:{width:"63%"},attrs:{"auto-complete":"off",placeholder:"验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"validCode"},slot:"prefix"})],1),r("div",{staticClass:"login-code"},[r("el-button",{class:{active:e.isActive},on:{click:function(t){return e.getSmsCode()}}},[r("span",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}]},[e._v("获取验证码")]),r("span",{directives:[{name:"show",rawName:"v-show",value:!e.isActive,expression:"!isActive"}]},[e._v(e._s(e.count)+"s")])])],1)],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),r("el-form-item",{staticStyle:{width:"100%"}},[r("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e.loading?r("span",[e._v("注 册 中...")]):r("span",[e._v("注 册")])]),r("a",{on:{click:function(t){return e.toLogin()}}},[e._v("登陆账户")])],1)],1),e._m(0)],1)},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"el-login-footer"},[r("span",[e._v("Copyright © 2021 luobosheng All Rights Reserved. 客服微信：csmszf")])])}],o=r("e0a5"),n=(r("ffae"),60),a={name:"Register",data:function(){return{isActive:!0,count:0,timer:null,cookiePassword:"",applys:[],registerForm:{loginAccount:"",userName:"",password:"",phonenumber:"",code:"",applyModule:""},registerRules:{applyModule:[{required:!0,trigger:"blur",message:"应用模块不能为空"}],loginAccount:[{required:!0,trigger:"blur",message:"登陆账号不能为空"}],userName:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}],phonenumber:[{required:!0,trigger:"blur",message:"手机号不能为空"}],code:[{required:!0,trigger:"change",message:"验证码不能为空"}]},loading:!1,captchaOnOff:!0,redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){this.getApplyModules()},methods:{getApplyModules:function(){var e=this;Object(o["a"])().then((function(t){e.applys=t.data}))},getSmsCode:function(){var e=this;this.timer||(Object(o["b"])(this.registerForm.phonenumber).then((function(t){e.$message({message:t.msg,type:"success"})})),this.count=n,this.isActive=!1,this.timer=setInterval((function(){e.count>0&&e.count<=n?e.count--:(e.isActive=!0,clearInterval(e.timer),e.timer=null)}),1e3))},handleRegister:function(){var e=this;this.$refs.registerForm.validate((function(t){t&&(e.loading=!0,e.$store.dispatch("userRegister",e.registerForm).then((function(t){e.loading=!1,e.$message({message:"注册成功!",type:"success"}),setTimeout((function(){e.$router.push({path:"/login"})}),3e3)})))}))},toLogin:function(){this.$router.push({path:"/login"})}}},l=a,c=(r("9b5e"),r("2877")),u=Object(c["a"])(l,s,i,!1,null,null,null);t["default"]=u.exports},"9b5e":function(e,t,r){"use strict";r("5c54")},ffae:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return n}));var s=r("b775");function i(){return Object(s["a"])({url:"/system/file/folder/record/list-all-simple",method:"get"})}function o(e){return Object(s["a"])({url:"/system/file/folder/record/create",method:"post",data:e})}function n(e){return Object(s["a"])({url:"/system/file/folder/record/update",method:"put",data:e})}}}]);